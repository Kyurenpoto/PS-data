# 4991

- 난이도: Gold 1
- 태그: BFS + 비트 마스킹 + DP

## 문제 설명

- 직사각형 형태의 방
- 격자, 로봇 청소기의 크기는 `1x1`
- 격자는 `더러운 칸|깨끗한 칸|가구`
- 더러운 칸을 방문해서 깨끗한 칸으로 바꿀 수 있다
- 인접한 칸을 방문할 수 있지만, 가구는 방문할 수 없다
- 가구가 아닌 칸은 여러 번 방문할 수 있다

## 입력

- 1개 이상의 테스트 케이스
- 방의 크기(`W, H <= 20`)
- 방의 정보: 깨끗한 칸, 더러운 칸, 가구, 시작 위치
- 더러운 칸의 수는 최대 10개, 시작 위치는 하나

### 제한

- 시간 제한 1초
- 공간 제한 256mb

## 출력

- 각 테스트 케이스마다 최소 이동 횟수

## 풀이

더러운 칸의 수를 `K`라고 하자. 그러면 로봇 청소기가 방문해야만 하는 격자(노드)의 수는 시작 위치를 포함해 `K+1`이다.

따라서 노드 간 최단 거리는 BFS를 `K+1`번 적용해서 구할 수 있다.

노드의 방문 상태 경우의 수는 `2^(K+1)`인데, 이 값이 충분히 작으므로 비트 마스킹을 적용할 수 있다.

그러면 각 상태에 대해 가능한 다음 상태는 최대 `K+1`개가 된다. 이제 DP를 적용하고 최종 상태에서의 값을 구하면 된다.

따라서 시간 복잡도는 `O((WH+2^(K))K)`, 공간 복잡도는 `O(WH+K^2+2^K)`이다.
